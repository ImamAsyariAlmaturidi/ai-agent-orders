<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat with AI Assistant</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Debug Panel -->
    <button class="debug-toggle" onclick="toggleDebug()">🐛 Debug</button>
    <div class="debug-panel" id="debugPanel">
      <div id="debugContent">Click the debug button to see logs...</div>
    </div>

    <div class="app-container">
      <!-- Main Chat Area -->
      <div class="chat-container">
        <div class="chat-header">
          <div class="header-left">
            <span>AI Assistant</span>
            <span class="session-info" id="sessionInfo"
              >Session: Loading...</span
            >
          </div>
          <button class="reset-btn" onclick="resetSession()">New Chat</button>
        </div>

        <div class="chat-messages" id="chat">
          <!-- Messages will be inserted here -->
        </div>

        <div class="input-container">
          <div class="input-wrapper">
            <form class="input-form" id="chatForm">
              <input
                class="message-input"
                id="messageInput"
                placeholder="Type your message here... (try 'generate image of a cat')"
                autocomplete="off"
                required
              />
              <button type="submit" class="send-button" id="sendBtn">
                <svg class="send-icon" viewBox="0 0 24 24">
                  <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                </svg>
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- Cart Sidebar -->
      <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
          <span>🛒 Shopping Cart</span>
          <span class="cart-badge" id="cartBadge">0</span>
        </div>

        <div class="cart-content" id="cartContent">
          <div class="cart-empty" id="cartEmpty">
            <div class="cart-empty-icon">🛒</div>
            <p>Your cart is empty</p>
            <small>Add items by chatting with the AI assistant</small>
          </div>
        </div>

        <div class="cart-summary" id="cartSummary" style="display: none">
          <div class="cart-summary-row">
            <span>Total Items:</span>
            <span id="totalItems">0</span>
          </div>
          <div class="cart-summary-row cart-summary-total">
            <span>Total Price:</span>
            <span id="totalPrice">Rp 0</span>
          </div>
          <button
            class="checkout-btn"
            id="checkoutBtn"
            onclick="handleCheckout()"
          >
            Proceed to Checkout
          </button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
